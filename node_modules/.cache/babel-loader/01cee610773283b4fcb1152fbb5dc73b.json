{"ast":null,"code":"import _classCallCheck from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{BrowserRouter as Router,Switch,Route,Redirect}from'react-router-dom';import Home from'../Pages/Home';import MovieInfo from'../Pages/MovieInfo';//import List from '../Pages/List'\nimport FavoritesList from'../Pages/FavoritesList';import Filter from'../Pages/Filter';import SignIn from'../Pages/Sign-In';import SignUpPage from'../Pages/Sign-Up';import Logo from'../components/TMDB-Image';import Header from'../components/Header';import Error from'../Pages/Error';import{compose}from'recompose';import{withFirebase}from'./firebase';import Profile from'../Pages/Profile';var AppPage=function AppPage(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AppForm,null));};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={loggedIn:null,user:null,userChar:'',username:'',favorites:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.firebase.auth.onAuthStateChanged(function(user){if(user){_this2.setState({loggedIn:true,user:user.uid,username:user.email.substring(0,user.email.indexOf(\"@\"))});if(!user.isAnonymous){localStorage.setItem(\"uid\",_this2.state.user);_this2.setState({userChar:user.email.charAt(0).toUpperCase()});}else{_this2.setState({userChar:\"An\",username:\"\"});}}else{_this2.setState({loggedIn:false,user:\"\",userChar:\"\",username:\"\"});localStorage.setItem(\"uid\",\"\");}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Header,{loggedin:this.state.loggedIn,user:this.state.userChar}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/React.createElement(Home,Object.assign({},props,{loggedin:_this3.state.loggedIn,user:localStorage.getItem(\"uid\")}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/info/:id/:name\",render:function render(props){return/*#__PURE__*/React.createElement(MovieInfo,Object.assign({},props,{loggedin:_this3.state.loggedIn,user:localStorage.getItem(\"uid\")}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/profile\",render:function render(props){return/*#__PURE__*/React.createElement(Profile,Object.assign({},props,{user:localStorage.getItem(\"uid\")}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/favorites\",render:function render(props){return/*#__PURE__*/React.createElement(FavoritesList,Object.assign({},props,{loggedin:_this3.state.loggedIn,user:localStorage.getItem(\"uid\")}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/filter\",render:function render(props){return/*#__PURE__*/React.createElement(Filter,Object.assign({},props,{loggedin:_this3.state.loggedIn,user:localStorage.getItem(\"uid\")}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signin\",render:function render(props){return/*#__PURE__*/React.createElement(SignIn,{username:_this3.state.username});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signup\",render:function render(props){return/*#__PURE__*/React.createElement(SignUpPage,{username:_this3.state.username});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signin\",render:function render(props){return _this3.state.loggedIn?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Redirect,{to:\"/signin\"}),\" \"):/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signup\",render:function render(props){return _this3.state.loggedIn?/*#__PURE__*/React.createElement(SignUpPage,null):/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}}),/*#__PURE__*/React.createElement(Route,{component:Error}))),/*#__PURE__*/React.createElement(Logo,null));}}]);return App;}(React.Component);var AppForm=compose(withFirebase)(App);export default AppPage;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/components/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","Home","MovieInfo","FavoritesList","Filter","SignIn","SignUpPage","Logo","Header","Error","compose","withFirebase","Profile","AppPage","App","props","state","loggedIn","user","userChar","username","favorites","firebase","auth","onAuthStateChanged","setState","uid","email","substring","indexOf","isAnonymous","localStorage","setItem","charAt","toUpperCase","getItem","Component","AppForm"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Home from '../Pages/Home'\nimport MovieInfo from '../Pages/MovieInfo'\n//import List from '../Pages/List'\nimport FavoritesList from '../Pages/FavoritesList'\nimport Filter from '../Pages/Filter'\nimport SignIn from '../Pages/Sign-In'\nimport SignUpPage from '../Pages/Sign-Up'\nimport Logo from '../components/TMDB-Image'\nimport Header from '../components/Header'\nimport Error from '../Pages/Error'\nimport {compose} from 'recompose'\nimport {withFirebase} from './firebase'\nimport Profile from '../Pages/Profile'\n\n\n  const AppPage = () => (\n    <div>\n      <AppForm/>\n    </div>\n  )\n\nclass App  extends React.Component{\n  constructor(props){\n    super(props)\n\n    this.state = {\n      loggedIn: null,\n      user: null,\n      userChar: '',\n      username: '',\n      favorites: []\n    }\n  \n  }\n\n  componentDidMount(){\n   this.props.firebase.auth.onAuthStateChanged(user => {\n      if(user){\n        this.setState({loggedIn: true, user: user.uid, username: user.email.substring(0, user.email.indexOf(\"@\"))})\n        if(!user.isAnonymous){\n          localStorage.setItem(\"uid\", this.state.user)\n          this.setState({\n            userChar: user.email.charAt(0).toUpperCase()\n            \n          })\n         \n        }else{\n          this.setState({\n            userChar: \"An\",\n            username: \"\"\n          })\n        }\n        \n\n      }else{\n        this.setState({loggedIn: false, user: \"\", userChar: \"\", username: \"\"})\n        localStorage.setItem(\"uid\", \"\")\n        \n       }\n    })\n    \n  }\n \n    render(){\n\n        return (\n          \n          \n            <Router>\n            <Header loggedin = {this.state.loggedIn} user = {this.state.userChar}/>\n                \n            <div>\n                    <Switch>\n                        <Route exact path=\"/\" render={(props) => <Home {...props} loggedin = {this.state.loggedIn} user={localStorage.getItem(\"uid\")} /> }/>\n                        <Route exact path=\"/info/:id/:name\" render={(props) => <MovieInfo {...props} loggedin = {this.state.loggedIn} user={localStorage.getItem(\"uid\")}/> } />\n                        <Route exact path='/profile' render={(props) => <Profile {...props} user = {localStorage.getItem(\"uid\")}/> } />\n                        <Route exact path='/favorites' render={(props) => <FavoritesList {...props} loggedin = {this.state.loggedIn} user={localStorage.getItem(\"uid\")}/> }/>\n                        <Route exact path='/filter' render={(props) => <Filter {...props} loggedin = {this.state.loggedIn} user={localStorage.getItem(\"uid\")}/> } />\n                        <Route exact path='/signin' render = {(props) => <SignIn username={this.state.username} />} />\n                        <Route exact path='/signup' render = {(props) => <SignUpPage username={this.state.username} />} />\n\n                        <Route exact path='/signin'  render={(props) => (this.state.loggedIn ? <div><Redirect to= \"/signin\" /> </div>: <Redirect to= \"/profile\" />)}/>\n                        <Route exact path='/signup' render={(props) => (this.state.loggedIn ? <SignUpPage/> : <Redirect to= \"/profile\" />)}/>\n                        <Route component={Error} />\n                    </Switch>\n            </div>\n            <Logo />\n            </Router>\n\n\n        )\n\n\n    }\n}\n\nconst AppForm = compose(\n  withFirebase\n)(App)\n\nexport default AppPage"]},"metadata":{},"sourceType":"module"}