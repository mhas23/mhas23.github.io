{"ast":null,"code":"var _jsxFileName = \"/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js\";\nimport React, { useState, useEffect } from \"react\";\nlet ls = window.localStorage;\n\nif (ls.getItem(\"fav\") === null) {\n  let reset = ls.setItem(\"fav\", JSON.stringify([]));\n} else {\n  JSON.parse(ls.getItem(\"fav\"));\n}\n\nconst Favorite = props => {\n  const [clicked, setClicked] = useState(false);\n  const [movie, setMovie] = useState([{}]);\n  let array = movie;\n\n  const handleClick = () => {\n    let addArray = true;\n    array.map((item, key) => {\n      if (clicked === true) {\n        setMovie([...array]);\n        props.handleFav({\n          movie,\n          clicked\n        });\n        addArray = false;\n      }\n    });\n\n    if (addArray) {\n      array[0] = {\n        id: props.id,\n        title: props.title\n      };\n      console.log(array);\n    } else {\n      array.map((item, key) => {\n        array.splice(key, 1);\n      });\n    }\n\n    setMovie([...array]);\n    setClicked(!clicked);\n    props.handleFav({\n      movie,\n      clicked\n    });\n  };\n\n  useEffect(() => {\n    if (JSON.parse(ls.getItem(\"fav\").includes(props.id))) {\n      setClicked(true);\n      array[0] = {\n        id: props.id,\n        title: props.title\n      };\n      setMovie({\n        id: props.id,\n        title: props.title\n      });\n    } else {\n      setClicked(false);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"inline-flex\",\n      marginTop: \"20px\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      backgroundColor: \"transparent\",\n      border: \"none\",\n      cursor: \"pointer\"\n    },\n    onClick: handleClick,\n    key: props.id,\n    id: props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }\n  }, JSON.parse(ls.getItem(\"fav\").includes(props.id)) ? /*#__PURE__*/React.createElement(\"i\", {\n    className: `fas fa-heart fa-2x`,\n    id: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 62\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: `far fa-heart fa-2x`,\n    id: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 18\n    }\n  })));\n};\n\nexport default Favorite;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js"],"names":["React","useState","useEffect","ls","window","localStorage","getItem","reset","setItem","JSON","stringify","parse","Favorite","props","clicked","setClicked","movie","setMovie","array","handleClick","addArray","map","item","key","handleFav","id","title","console","log","splice","includes","display","marginTop","justifyContent","backgroundColor","border","cursor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,IAAIC,EAAE,GAAGC,MAAM,CAACC,YAAhB;;AACA,IAAGF,EAAE,CAACG,OAAH,CAAW,KAAX,MAAsB,IAAzB,EAA8B;AAC5B,MAAIC,KAAK,GAAGJ,EAAE,CAACK,OAAH,CAAW,KAAX,EAAkBC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAlB,CAAZ;AACC,CAFH,MAEO;AACHD,EAAAA,IAAI,CAACE,KAAL,CAAWR,EAAE,CAACG,OAAH,CAAW,KAAX,CAAX;AACD;;AAEH,MAAMM,QAAQ,GAAIC,KAAD,IAAW;AAE1B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAlC;AACA,MAAIiB,KAAK,GAAGF,KAAZ;;AAIA,QAAMG,WAAW,GAAG,MAAM;AACtB,QAAIC,QAAQ,GAAG,IAAf;AACAF,IAAAA,KAAK,CAACG,GAAN,CAAU,CAACC,IAAD,EAAMC,GAAN,KAAc;AACtB,UAAGT,OAAO,KAAK,IAAf,EAAoB;AAClBG,QAAAA,QAAQ,CAAC,CAAC,GAAGC,KAAJ,CAAD,CAAR;AACAL,QAAAA,KAAK,CAACW,SAAN,CAAgB;AAACR,UAAAA,KAAD;AAAQF,UAAAA;AAAR,SAAhB;AACAM,QAAAA,QAAQ,GAAG,KAAX;AACD;AACF,KAND;;AAQA,QAAGA,QAAH,EAAY;AACVF,MAAAA,KAAK,CAAC,CAAD,CAAL,GAAY;AAACO,QAAAA,EAAE,EAAEZ,KAAK,CAACY,EAAX;AAAeC,QAAAA,KAAK,EAAEb,KAAK,CAACa;AAA5B,OAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACD,KAHD,MAGK;AACHA,MAAAA,KAAK,CAACG,GAAN,CAAU,CAACC,IAAD,EAAOC,GAAP,KAAe;AACvBL,QAAAA,KAAK,CAACW,MAAN,CAAaN,GAAb,EAAiB,CAAjB;AACD,OAFD;AAGD;;AACDN,IAAAA,QAAQ,CAAC,CAAC,GAAGC,KAAJ,CAAD,CAAR;AACAH,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAD,IAAAA,KAAK,CAACW,SAAN,CAAgB;AAACR,MAAAA,KAAD;AAAQF,MAAAA;AAAR,KAAhB;AAEH,GAtBD;;AAwBAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGO,IAAI,CAACE,KAAL,CAAWR,EAAE,CAACG,OAAH,CAAW,KAAX,EAAkBwB,QAAlB,CAA2BjB,KAAK,CAACY,EAAjC,CAAX,CAAH,EAAqD;AACnDV,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAG,MAAAA,KAAK,CAAC,CAAD,CAAL,GAAW;AAACO,QAAAA,EAAE,EAAEZ,KAAK,CAACY,EAAX;AAAeC,QAAAA,KAAK,EAAEb,KAAK,CAACa;AAA5B,OAAX;AACAT,MAAAA,QAAQ,CAAC;AAACQ,QAAAA,EAAE,EAAEZ,KAAK,CAACY,EAAX;AAAeC,QAAAA,KAAK,EAAEb,KAAK,CAACa;AAA5B,OAAD,CAAR;AACA,KAJF,MAIM;AACJX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACH,GARQ,CAAT;AAaA,sBACE;AACE,IAAA,KAAK,EAAE;AACLgB,MAAAA,OAAO,EAAE,aADJ;AAELC,MAAAA,SAAS,EAAE,MAFN;AAGLC,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUO;AACH,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAE,aADZ;AAELC,MAAAA,MAAM,EAAE,MAFH;AAGLC,MAAAA,MAAM,EAAE;AAHH,KADJ;AAMH,IAAA,OAAO,EAAEjB,WANN;AAOH,IAAA,GAAG,EAAEN,KAAK,CAACY,EAPR;AAQH,IAAA,EAAE,EAAEZ,KAAK,CAACY,EARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaFhB,IAAI,CAACE,KAAL,CAAWR,EAAE,CAACG,OAAH,CAAW,KAAX,EAAkBwB,QAAlB,CAA2BjB,KAAK,CAACY,EAAjC,CAAX,iBAAoD;AACnD,IAAA,SAAS,EAAG,oBADuC;AAEnD,IAAA,EAAE,EAAET,KAAK,CAACS,EAFyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAApD,gBAGQ;AACT,IAAA,SAAS,EAAG,oBADH;AAET,IAAA,EAAE,EAAET,KAAK,CAACS,EAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBN,CAVP,CADF;AAuDD,CApGD;;AAuGA,eAAeb,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nlet ls = window.localStorage\nif(ls.getItem(\"fav\") === null){\n  let reset = ls.setItem(\"fav\", JSON.stringify([]))\n  }else{\n    JSON.parse(ls.getItem(\"fav\"))\n  }\n  \nconst Favorite = (props) => {\n\n  const [clicked, setClicked] = useState(false)\n  const [movie, setMovie] = useState([{}])\n  let array = movie;\n  \n\n\n  const handleClick = () => {\n      let addArray = true;\n      array.map((item,key) => {\n        if(clicked === true){\n          setMovie([...array])\n          props.handleFav({movie, clicked})\n          addArray = false\n        }\n      })\n\n      if(addArray){\n        array[0] = ({id: props.id, title: props.title})\n        console.log(array)\n      }else{\n        array.map((item, key) => {\n          array.splice(key,1)\n        })\n      }\n      setMovie([...array])\n      setClicked(!clicked)\n      props.handleFav({movie, clicked})\n      \n  }\n\n  useEffect(() => {\n    if(JSON.parse(ls.getItem(\"fav\").includes(props.id)) ){\n      setClicked(true) \n      array[0] = {id: props.id, title: props.title}\n      setMovie({id: props.id, title: props.title})\n     }else{\n      setClicked(false)\n     } \n  })\n\n  \n\n\n  return (\n    <div\n      style={{\n        display: \"inline-flex\",\n        marginTop: \"20px\",\n        justifyContent: \"center\",\n      }}\n    \n    >\n\n\n           <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        onClick={handleClick}\n        key={props.id}\n        id={props.id}\n      >\n\n       \n      \n        {JSON.parse(ls.getItem(\"fav\").includes(props.id)) ? (<i\n          className={`fas fa-heart fa-2x`}\n          id={movie.id}\n        ></i>) : <i\n        className={`far fa-heart fa-2x`}\n        id={movie.id}\n      ></i>}\n        \n      </button>\n\n      \n      \n     {/*  <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        key={props.id}\n        id={props.id}\n      >\n        <i className=\"fas fa-list fa-2x\"></i>\n      </button> */}\n\n      \n     \n\n   \n    </div>\n  );\n  \n}\n\n\nexport default Favorite;\n"]},"metadata":{},"sourceType":"module"}