{"ast":null,"code":"var _jsxFileName = \"/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js\";\nimport React, { useState, useEffect } from \"react\";\nimport firebase from 'firebase';\nlet ls = window.localStorage;\n\nconst Favorite = props => {\n  let itemsRef;\n  const [clicked, setClicked] = useState(false);\n  const [movie, setMovie] = useState([]);\n  const [user, setUser] = useState(null);\n  let array = movie;\n\n  const handleClick = () => {\n    this.props.firebase.auth.onAuthStateChanged(function (user) {\n      if (user) {\n        array.push({\n          id: props.id,\n          title: props.title,\n          poster_path: props.img.replace(\"https://image.tmdb.org/t/p/w185\", \"\"),\n          release_date: props.release_date\n        });\n        setMovie([...array]);\n        setClicked(!clicked);\n        props.handleFav({\n          movie,\n          clicked\n        });\n      } else {\n        alert(\"You need to be sign in to favorite\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    this.listener = itemsRef = this.props.firebase.auth.onAuthStateChanged(authUser => {\n      authUser ? setUser(user) : setUser(null);\n    });\n    return () => this.listener();\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"inline-flex\",\n      marginTop: \"20px\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      backgroundColor: \"transparent\",\n      border: \"none\",\n      cursor: \"pointer\"\n    },\n    onClick: handleClick,\n    key: props.id,\n    id: props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }\n  }, JSON.parse(ls.getItem(\"favoriteList\").includes(props.id) && ls.getItem(\"favoriteList\").includes(props.title)) ? /*#__PURE__*/React.createElement(\"i\", {\n    className: `fas fa-heart fa-2x`,\n    id: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 123\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: `far fa-heart fa-2x`,\n    id: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }\n  })));\n};\n\nexport default Favorite;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js"],"names":["React","useState","useEffect","firebase","ls","window","localStorage","Favorite","props","itemsRef","clicked","setClicked","movie","setMovie","user","setUser","array","handleClick","auth","onAuthStateChanged","push","id","title","poster_path","img","replace","release_date","handleFav","alert","listener","authUser","display","marginTop","justifyContent","backgroundColor","border","cursor","JSON","parse","getItem","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from 'firebase'\n\nlet ls = window.localStorage\n\nconst Favorite = (props) => {\n  let itemsRef;\n  const [clicked, setClicked] = useState(false)\n  const [movie, setMovie] = useState([])\n  const [user, setUser] = useState(null)\n  let array = movie;\n\n  const handleClick = () => {\n    this.props.firebase.auth.onAuthStateChanged(function(user) {\n\n      if(user){\n      array.push({id: props.id, title: props.title, poster_path: props.img.replace(\"https://image.tmdb.org/t/p/w185\", \"\"), release_date: props.release_date})\n      setMovie([...array])\n      setClicked(!clicked)\n      props.handleFav({movie, clicked})\n      }else{\n        alert(\"You need to be sign in to favorite\")\n      }\n    })\n  }\n\n  useEffect(() => {\n     this.listener = itemsRef = this.props.firebase.auth.onAuthStateChanged(\n      authUser => {\n        authUser ? setUser(user) : setUser(null)\n      }\n    )\n\n    return() => this.listener()\n  })\n\n  return (\n    <div\n      style={{\n        display: \"inline-flex\",\n        marginTop: \"20px\",\n        justifyContent: \"center\",\n      }}\n    \n    >\n\n\n           <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        onClick={handleClick}\n        key={props.id}\n        id={props.id}\n      >\n\n       \n            \n      \n        {JSON.parse(ls.getItem(\"favoriteList\").includes(props.id) && ls.getItem(\"favoriteList\").includes(props.title)) ? (<i\n          className={`fas fa-heart fa-2x`}\n          id={movie.id}\n        ></i>) : <i\n        className={`far fa-heart fa-2x`}\n        id={movie.id}\n      ></i>}\n        \n      </button>\n\n      \n      \n     {/*  <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        key={props.id}\n        id={props.id}\n      >\n        <i className=\"fas fa-list fa-2x\"></i>\n      </button> */}\n\n      \n     \n\n   \n    </div>\n  );\n  \n}\n\n\nexport default Favorite;\n"]},"metadata":{},"sourceType":"module"}