{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import MovieList from\"../../components/Movies/MovieList\";import\"../../components/Search/Search.css\";import{Movie_API}from\"../../api/Movie_API\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";var response;var sort=[{name:\"popularity.desc\",title:\"Descending Popularity\",id:1},{name:\"popularity.asc\",title:\"Ascending Popularity\",id:2},{name:\"release_date.desc\",title:\"Ascending Release Date\",id:3},{name:\"release_date.desc\",title:\"Descending Release Date\",id:4},{name:\"revenue.asc\",title:\"Ascending Revenue\",id:5},{name:\"revenue.desc\",title:\"Descending Revenue\",id:6},{name:\"original_title.desc\",title:\"Descending Title\",id:7},{name:\"original_title.asc\",title:\"Ascending Title\",id:8},{name:\"vote_average.asc\",title:\"Ascending Rating\",id:9},{name:\"vote_average.desc\",title:\"Descending Rating\",id:10}];var genre=[{name:\"Action\",id:28},{name:\"Adventure\",id:12},{name:\"Animation\",id:16},{name:\"Comedy\",id:35},{name:\"Crime\",id:80},{name:\"Documentary\",id:99},{name:\"Drama\",id:18},{name:\"Family\",id:10751},{name:\"Fantasy\",id:14},{name:\"History\",id:36},{name:\"Horror\",id:27},{name:\"Music\",id:10402},{name:\"Mystery\",id:9648},{name:\"Romance\",id:10749},{name:\"Science Fiction\",id:878},{name:\"TV Movie\",id:10770},{name:\"Thriller\",id:53},{name:\"War\",id:10752},{name:\"Western\",id:37}];var getAllID;var total_page;function Filter(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setID=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),list=_useState6[0],setList=_useState6[1];var _useState7=useState(sort[0].name),_useState8=_slicedToArray(_useState7,2),select=_useState8[0],setSelection=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),startDate=_useState10[0],setStartDate=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var index;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setChecked(_defineProperty({},event.target.id,[event.target.checked]));if(event.target.checked===true){setID(id.concat(event.target.id));}else{index=id.indexOf(event.target.id);if(index>-1){id.splice(index,1);}}//setList(response.data.results)\nsetPage(1);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();var handleSelection=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setSelection(event.target.value);setPage(1);case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSelection(_x2){return _ref2.apply(this,arguments);};}();var nextPage=function nextPage(){setPage(page+1);};var previousPage=function previousPage(){setPage(page-1);};var onTermSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var KEY;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:KEY=process.env.REACT_APP_API;e.preventDefault();getAllID=id.toString();_context3.next=5;return Movie_API.Search.get(\"/discover/movie\",{params:{api_key:KEY,language:\"en-US\",include_adult:\"false\",page:page,with_genres:getAllID,primary_release_year:startDate.getFullYear(),sort_by:select}});case 5:response=_context3.sent;setList(response.data.results);total_page=response.data.total_pages;case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function onTermSubmit(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"inline-flex\",flexDirection:\"row\"}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:onTermSubmit,style:{display:\"inline-flex\",flexDirection:\"column\",alignSelf:\"flex-start\",position:\"sticky\",top:\"0\",border:\"4px solid black\",padding:\"10px\"}},/*#__PURE__*/React.createElement(\"div\",null,\"Search using these filters\",\" \",/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"down\"},\"\\u2B07\\uFE0F\")),/*#__PURE__*/React.createElement(\"h4\",null,\"Select Genre: \"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"inline-grid\",gridTemplateColumns:\"auto auto\"}},genre.map(function(item,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},/*#__PURE__*/React.createElement(\"label\",{key:key,style:{display:\"block\",margin:\"10px\"}},item.name,/*#__PURE__*/React.createElement(\"input\",{key:key,type:\"checkbox\",name:item.name,id:item.id,checked:checked[item.checked],onChange:handleClick})));})),/*#__PURE__*/React.createElement(\"h4\",null,\"Select sorting order:\"),/*#__PURE__*/React.createElement(\"select\",{name:\"sort\",id:\"sort_type\",onChange:handleSelection},sort.map(function(item,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,value:item.name},item.title);})),/*#__PURE__*/React.createElement(\"h4\",null,\"Enter Year\"),/*#__PURE__*/React.createElement(DatePicker,{selected:startDate,onChange:function onChange(date){return setStartDate(date);},showYearPicker:true,dateFormat:\"yyyy\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:id.length===0},\"Enter Here!\"),list.length===0?null:/*#__PURE__*/React.createElement(\"button\",{onClick:nextPage,disabled:page===total_page},\"Next Page\"),page>=1?/*#__PURE__*/React.createElement(\"button\",{onClick:previousPage,disabled:page===1},\" Previous page\"):null),/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"30px\"}},/*#__PURE__*/React.createElement(MovieList,{movies:list,isLoggedIn:props.loggedin,userID:props.user}))));}export default Filter;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/Pages/Filter/index.js"],"names":["React","useState","MovieList","Movie_API","DatePicker","response","sort","name","title","id","genre","getAllID","total_page","Filter","props","checked","setChecked","setID","list","setList","select","setSelection","Date","startDate","setStartDate","page","setPage","handleClick","event","target","concat","index","indexOf","splice","handleSelection","value","nextPage","previousPage","onTermSubmit","e","KEY","process","env","REACT_APP_API","preventDefault","toString","Search","get","params","api_key","language","include_adult","with_genres","primary_release_year","getFullYear","sort_by","data","results","total_pages","display","flexDirection","alignSelf","position","top","border","padding","gridTemplateColumns","map","item","key","margin","date","length","loggedin","user"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport MovieList from \"../../components/Movies/MovieList\";\nimport \"../../components/Search/Search.css\";\nimport { Movie_API } from \"../../api/Movie_API\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nlet response;\n\nconst sort = [\n  {\n    name: \"popularity.desc\",\n    title: \"Descending Popularity\",\n    id: 1,\n  },\n\n  {\n    name: \"popularity.asc\",\n    title: \"Ascending Popularity\",\n    id: 2,\n  },\n\n  {\n    name: \"release_date.desc\",\n    title: \"Ascending Release Date\",\n    id: 3,\n  },\n\n  {\n    name: \"release_date.desc\",\n    title: \"Descending Release Date\",\n    id: 4,\n  },\n\n  {\n    name: \"revenue.asc\",\n    title: \"Ascending Revenue\",\n    id: 5,\n  },\n\n  {\n    name: \"revenue.desc\",\n    title: \"Descending Revenue\",\n    id: 6,\n  },\n\n  {\n    name: \"original_title.desc\",\n    title: \"Descending Title\",\n    id: 7,\n  },\n\n  {\n    name: \"original_title.asc\",\n    title: \"Ascending Title\",\n    id: 8,\n  },\n\n  {\n    name: \"vote_average.asc\",\n    title: \"Ascending Rating\",\n    id: 9,\n  },\n\n  {\n    name: \"vote_average.desc\",\n    title: \"Descending Rating\",\n    id: 10,\n  },\n];\n\nconst genre = [\n  {\n    name: \"Action\",\n    id: 28,\n  },\n  {\n    name: \"Adventure\",\n    id: 12,\n  },\n\n  {\n    name: \"Animation\",\n    id: 16,\n  },\n\n  {\n    name: \"Comedy\",\n    id: 35,\n  },\n  {\n    name: \"Crime\",\n    id: 80,\n  },\n\n  {\n    name: \"Documentary\",\n    id: 99,\n  },\n  {\n    name: \"Drama\",\n    id: 18,\n  },\n  {\n    name: \"Family\",\n    id: 10751,\n  },\n\n  {\n    name: \"Fantasy\",\n    id: 14,\n  },\n\n  {\n    name: \"History\",\n    id: 36,\n  },\n\n  {\n    name: \"Horror\",\n    id: 27,\n  },\n\n  {\n    name: \"Music\",\n    id: 10402,\n  },\n\n  {\n    name: \"Mystery\",\n    id: 9648,\n  },\n\n  {\n    name: \"Romance\",\n    id: 10749,\n  },\n\n  {\n    name: \"Science Fiction\",\n    id: 878,\n  },\n\n  {\n    name: \"TV Movie\",\n    id: 10770,\n  },\n  {\n    name: \"Thriller\",\n    id: 53,\n  },\n  {\n    name: \"War\",\n    id: 10752,\n  },\n  {\n    name: \"Western\",\n    id: 37,\n  },\n];\n\nlet getAllID;\nlet total_page;\n\nfunction Filter(props) {\n  const [checked, setChecked] = useState({});\n  const [id, setID] = useState([]);\n  const [list, setList] = useState([]);\n  const [select, setSelection] = useState(sort[0].name);\n  const [startDate, setStartDate] = useState(new Date());\n  const [page, setPage] = useState(1)\n\n  const handleClick = async (event) => {\n    setChecked({ [event.target.id]: [event.target.checked] });\n    if (event.target.checked === true) {\n      setID(id.concat(event.target.id));\n    } else {\n      let index = id.indexOf(event.target.id);\n      if (index > -1) {\n        id.splice(index, 1);\n      }\n    }\n\n    //setList(response.data.results)\n    setPage(1)\n    \n\n  };\n\n  const handleSelection = async (event) => {\n    setSelection(event.target.value);\n    setPage(1)\n  \n  };\n\n  const nextPage = () => {\n    setPage(page + 1)\n  }\n\n  const previousPage = () => {\n    setPage(page - 1)\n  }\n\n  const onTermSubmit = async (e) => {\n    const KEY = process.env.REACT_APP_API;\n        e.preventDefault();\n\n\n    getAllID = id.toString();\n    \n\n    response = await Movie_API.Search.get(\"/discover/movie\", {\n      params: {\n        api_key: KEY,\n        language: \"en-US\",\n        include_adult: \"false\",\n        page: page,\n        with_genres: getAllID,\n        primary_release_year: startDate.getFullYear(),\n        sort_by: select,\n      },\n    });\n\n    setList(response.data.results);\n    total_page = response.data.total_pages\n    \n    \n  };\n\n  return (\n    <div>\n      <div style={{ display: \"inline-flex\", flexDirection: \"row\" }}>\n        <form\n          onSubmit={onTermSubmit}\n          style={{\n            display: \"inline-flex\",\n            flexDirection: \"column\",\n            alignSelf: \"flex-start\",\n            position: \"sticky\",\n            top: \"0\",\n            border: \"4px solid black\",\n            padding: \"10px\",\n          }}\n        >\n          <div>\n            Search using these filters{\" \"}\n            <span role=\"img\" aria-label=\"down\">\n              ⬇️\n            </span>\n          </div>\n          <h4>Select Genre: </h4>\n\n          <div\n            style={{ display: \"inline-grid\", gridTemplateColumns: \"auto auto\" }}\n          >\n\n            {genre.map((item, key) => (\n              <div key={key}>\n                <label key={key} style={{ display: \"block\", margin: \"10px\" }}>\n                  {item.name}\n                  <input\n                    key={key}\n                    type=\"checkbox\"\n                    name={item.name}\n                    id={item.id}\n                    checked={checked[item.checked]}\n                    onChange={handleClick}\n                  />\n                </label>\n              </div>\n            ))}\n          </div>\n\n          <h4>Select sorting order:</h4>\n\n          <select name=\"sort\" id=\"sort_type\" onChange={handleSelection}>\n            {sort.map((item, key) => (\n              <option key={key} value={item.name}>\n                {item.title}\n              </option>\n            ))}\n          </select>\n\n          <h4>Enter Year</h4>\n          <DatePicker\n            selected={startDate}\n            onChange={(date) => setStartDate(date)}\n            showYearPicker\n            dateFormat=\"yyyy\"\n          />\n          <button type=\"submit\" disabled={id.length === 0}>Enter Here!</button>\n          {list.length === 0 ? null : <button onClick={nextPage} disabled={page === total_page}>Next Page</button>}\n          {page >= 1 ? <button onClick={previousPage} disabled={page === 1}> Previous page</button>  : null }\n        </form>\n        <div style={{ padding: \"30px\" }}>\n          <MovieList movies={list} isLoggedIn={props.loggedin} userID={props.user}/>\n        </div>\n      </div>\n      \n    </div>\n  );\n}\n\nexport default Filter;\n"]},"metadata":{},"sourceType":"module"}