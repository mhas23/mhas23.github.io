{"ast":null,"code":"import _classCallCheck from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import AuthUserContext from'./context';import{withFirebase}from'../components/firebase';var withAuthentication=function withAuthentication(Component){var WithAuthentication=/*#__PURE__*/function(_React$Component){_inherits(WithAuthentication,_React$Component);var _super=_createSuper(WithAuthentication);function WithAuthentication(props){var _this;_classCallCheck(this,WithAuthentication);_this=_super.call(this,props);_this.state={authUser:null};return _this;}_createClass(WithAuthentication,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.listener=this.props.firebase.auth.onAuthStateChanged(//Gets current user that is signed in\nfunction(authUser){authUser?_this2.setState({authUser:authUser})// Sets state as the current user\n:_this2.setState({authUser:null});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.listener();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(AuthUserContext.Provider,{value:this.state.authUser},/*#__PURE__*/React.createElement(Component,this.props));}}]);return WithAuthentication;}(React.Component);return withFirebase(WithAuthentication);};export default withAuthentication;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/session/withAuthentication.js"],"names":["React","AuthUserContext","withFirebase","withAuthentication","Component","WithAuthentication","props","state","authUser","listener","firebase","auth","onAuthStateChanged","setState"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,WAA5B,CACA,OAASC,YAAT,KAA6B,wBAA7B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,SAAS,CAAI,IAC9BC,CAAAA,kBAD8B,oIAEhC,4BAAYC,KAAZ,CAAmB,oDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,IADD,CAAb,CAFe,aAKlB,CAP+B,4FAQZ,iBAChB,KAAKC,QAAL,CAAgB,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,IAApB,CAAyBC,kBAAzB,CAA6C;AACzD,SAAAJ,QAAQ,CAAI,CACRA,QAAQ,CACF,MAAI,CAACK,QAAL,CAAc,CAAEL,QAAQ,CAARA,QAAF,CAAd,CAA4B;AAD1B,CAEF,MAAI,CAACK,QAAL,CAAc,CAAEL,QAAQ,CAAE,IAAZ,CAAd,CAFN,CAGH,CALW,CAAhB,CAOH,CAhB+B,mEAiBT,CACnB,KAAKC,QAAL,GACH,CAnB+B,uCAoBvB,CACL,mBACI,oBAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAE,KAAKF,KAAL,CAAWC,QAA5C,eACI,oBAAC,SAAD,CAAe,KAAKF,KAApB,CADJ,CADJ,CAKH,CA1B+B,gCACHN,KAAK,CAACI,SADH,EA4BpC,MAAOF,CAAAA,YAAY,CAACG,kBAAD,CAAnB,CACH,CA7BD,CA8BA,cAAeF,CAAAA,kBAAf","sourcesContent":["import React from 'react';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../components/firebase';\n\nconst withAuthentication = Component => {\n    class WithAuthentication extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                authUser: null,\n            };\n        }\n        componentDidMount() {\n            this.listener = this.props.firebase.auth.onAuthStateChanged( //Gets current user that is signed in\n                authUser => {\n                    authUser\n                        ? this.setState({ authUser }) // Sets state as the current user\n                        : this.setState({ authUser: null });\n                },\n            );\n        }\n        componentWillUnmount() {\n            this.listener();\n        }\n        render() {\n            return (\n                <AuthUserContext.Provider value={this.state.authUser}>\n                    <Component {...this.props} />\n                </AuthUserContext.Provider>\n            );\n        }\n    }\n    return withFirebase(WithAuthentication);\n};\nexport default withAuthentication;\n\n"]},"metadata":{},"sourceType":"module"}