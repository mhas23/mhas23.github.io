{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import Search from\"../../components/Search\";import\"../../components/Search/Search.css\";import{Movie_API}from\"../../api/Movie_API\";import MovieList from\"../../components/Movies/MovieList\";import\"../styles.css\";import{OverlayTrigger,Tooltip}from\"react-bootstrap\";import MovieCard from\"../../components/Movies/MovieCard\";import{ClipLoader}from\"react-spinners\";import Error from'../Error';function MovieInfo(_ref){var match=_ref.match,loggedin=_ref.loggedin,user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],getList=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),info=_useState8[0],setInfo=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),castInfo=_useState10[0],setCastInfo=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),crewInfo=_useState12[0],setCrewInfo=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),recommendInfo=_useState14[0],setRecInfo=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];var time=useRef(0);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var KEY,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(query===\"\")){_context.next=4;break;}getList([]);_context.next=16;break;case 4:KEY=process.env.REACT_APP_API;_context.prev=5;_context.next=8;return Movie_API.Search.get(\"/search/movie\",{params:{api_key:KEY,language:\"en-US\",include_adult:\"false\",page:\"1\",query:query}});case 8:response=_context.sent;getList(response.data.results);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.warn(_context.t0);getList([]);case 16:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[query]);var onTermSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(q){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setQuery(q);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function onTermSubmit(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _yield$Promise$all,_yield$Promise$all2,movieInfo,castAndCrewInfo,_recommendInfo;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading(true);setQuery(\"\");_context3.prev=2;_context3.next=5;return Promise.all([Movie_API.Info.get(\"/\".concat(match.params.id),{params:{api_key:process.env.REACT_APP_API,language:\"en-US\"}}),Movie_API.Info.get(\"/\".concat(match.params.id,\"/credits\"),{params:{api_key:process.env.REACT_APP_API}}),Movie_API.Info.get(\"/\".concat(match.params.id,\"/recommendations\"),{params:{api_key:process.env.REACT_APP_API}})]);case 5:_yield$Promise$all=_context3.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,3);movieInfo=_yield$Promise$all2[0];castAndCrewInfo=_yield$Promise$all2[1];_recommendInfo=_yield$Promise$all2[2];setInfo(movieInfo);setCastInfo(castAndCrewInfo);setCrewInfo(castAndCrewInfo);setRecInfo(_recommendInfo);_context3.next=19;break;case 16:_context3.prev=16;_context3.t0=_context3[\"catch\"](2);setError(true);case 19:window.scrollTo(0,0);time.current=setTimeout(function(){setLoading(false);},2000);case 21:case\"end\":return _context3.stop();}}},_callee3,null,[[2,16]]);}));return _getData.apply(this,arguments);}getList([]);getData();return function(){return clearTimeout(time.current);};},[match]);return/*#__PURE__*/React.createElement(React.Fragment,null,error===false?loading?/*#__PURE__*/React.createElement(ClipLoader,{size:150,color:\"#123abc\",css:\"\\n        display: block;\\n        margin: 0 auto;\\n        border-color: black;\\n      \",loading:loading}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"info\"},/*#__PURE__*/React.createElement(\"span\",{style:{display:\"flex\",flexDirection:\"column\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"title\"}),/*#__PURE__*/React.createElement(MovieCard,{image:\"https://image.tmdb.org/t/p/w185\".concat(info.data.poster_path),id:info.data.id,title:info.data.title,release_date:info.data.release_date,isLoggedIn:loggedin,userID:user})),/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},info.data.title!==info.data.original_title?/*#__PURE__*/React.createElement(\"h2\",null,\" \",\"\".concat(info.data.title,\" [\").concat(info.data.original_title,\"]\")):/*#__PURE__*/React.createElement(\"h2\",null,\" \",info.data.original_title),/*#__PURE__*/React.createElement(\"h2\",{style:{marginLeft:\"10px\"}},\"(\",info.data.release_date,\")\")),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"auto auto auto\",marginTop:\"10px\"}},/*#__PURE__*/React.createElement(\"h4\",null,\"Rating: \",info.data.vote_average*10,\"%\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Popularity: \",info.data.popularity),/*#__PURE__*/React.createElement(\"h4\",null,\"Runtime: \",info.data.runtime,\" minutes\")),/*#__PURE__*/React.createElement(\"h3\",{style:{border:\"none\"}},info.data.tagline!==\"\"?info.data.tagline:null),/*#__PURE__*/React.createElement(\"p\",{style:{display:\"inline-block\",padding:\"20px\"}},\" \",info.data.overview===\"\"?\"No info here\":info.data.overview,\" \")),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexDirection:'row',marginTop:'69px'}},info.data.genres.map(function(index,key){return/*#__PURE__*/React.createElement(\"div\",{key:key,style:{paddingLeft:'30px',paddingRight:'30px'}},/*#__PURE__*/React.createElement(\"h5\",{style:{fontSize:'large'}},index.name));}))),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"0px\",border:\"2px black solid\",marginTop:\"3em\"}}),/*#__PURE__*/React.createElement(\"h3\",null,\"Cast\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\",overflowX:\"scroll\",overflowY:\"hidden\",marginTop:\"20px\",marginBottom:\"90px\"}},castInfo.data.cast.map(function(cast,key){return/*#__PURE__*/React.createElement(OverlayTrigger,{key:key,placement:\"bottom\",overlay:/*#__PURE__*/React.createElement(Tooltip,{key:key,style:{paddingTop:\"20px\",textAlign:\"center\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"div\",null,cast.character),/*#__PURE__*/React.createElement(\"div\",null,\"(\",cast.name,\")\"))},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100px\",height:\"122px\",marginRight:\"50px\"}},/*#__PURE__*/React.createElement(\"img\",{key:key,alt:cast.name,src:cast.profile_path===null?\"https://previews.123rf.com/images/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg\":\"https://image.tmdb.org/t/p/w185\".concat(cast.profile_path),style:{borderRadius:\"100%\",width:\"95px\",height:\"113px\",padding:\"5px\"}})));})),/*#__PURE__*/React.createElement(\"h3\",null,\"Crew\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\",overflowX:\"scroll\",overflowY:\"hidden\",marginTop:\"20px\",marginBottom:\"90px\"}},crewInfo.data.crew.map(function(crew,key){return/*#__PURE__*/React.createElement(OverlayTrigger,{key:key,placement:\"bottom\",overlay:/*#__PURE__*/React.createElement(Tooltip,{key:key,style:{paddingTop:\"20px\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"div\",null,crew.name),/*#__PURE__*/React.createElement(\"div\",null,\"(\",crew.job,\")\"))},/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100px\",height:\"122px\",marginRight:\"50px\"}},/*#__PURE__*/React.createElement(\"img\",{key:key,alt:crew.name,src:crew.profile_path===null?\"https://previews.123rf.com/images/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg\":\"https://image.tmdb.org/t/p/w185\".concat(crew.profile_path),style:{borderRadius:\"50%\",width:\"95px\",height:\"113px\",padding:\"5px\"}})));})),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"0px\",border:\"2px black solid\",marginTop:\"3em\"}}),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"Recommendations\"),/*#__PURE__*/React.createElement(MovieList,{movies:recommendInfo.data.results,isLoggedIn:loggedin,userID:user})),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100%\",height:\"0px\",border:\"2px black solid\",marginTop:\"3em\"}}),/*#__PURE__*/React.createElement(Search,{onFormSubmit:onTermSubmit}),/*#__PURE__*/React.createElement(MovieList,{movies:list,isLoggedIn:loggedin,userID:user})):/*#__PURE__*/React.createElement(Error,null));}export default MovieInfo;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/Pages/MovieInfo/index.js"],"names":["React","useState","useEffect","useRef","Search","Movie_API","MovieList","OverlayTrigger","Tooltip","MovieCard","ClipLoader","Error","MovieInfo","match","loggedin","user","list","getList","query","setQuery","loading","setLoading","info","setInfo","castInfo","setCastInfo","crewInfo","setCrewInfo","recommendInfo","setRecInfo","error","setError","time","fetchData","KEY","process","env","REACT_APP_API","get","params","api_key","language","include_adult","page","response","data","results","console","warn","onTermSubmit","q","getData","Promise","all","Info","id","movieInfo","castAndCrewInfo","window","scrollTo","current","setTimeout","clearTimeout","display","flexDirection","poster_path","title","release_date","original_title","marginLeft","gridTemplateColumns","marginTop","vote_average","popularity","runtime","border","tagline","padding","overview","genres","map","index","key","paddingLeft","paddingRight","fontSize","name","width","height","overflowX","overflowY","marginBottom","cast","paddingTop","textAlign","justifyContent","character","marginRight","profile_path","borderRadius","crew","job"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Search from \"../../components/Search\";\nimport \"../../components/Search/Search.css\";\nimport {Movie_API} from \"../../api/Movie_API\";\nimport MovieList from \"../../components/Movies/MovieList\";\nimport \"../styles.css\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport MovieCard from \"../../components/Movies/MovieCard\";\nimport { ClipLoader } from \"react-spinners\";\nimport Error from '../Error'\n\n\nfunction MovieInfo({ match, loggedin, user }) {\n  const [list, getList] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [info, setInfo] = useState({});\n  const [castInfo, setCastInfo] = useState([]);\n  const [crewInfo, setCrewInfo] = useState([]);\n  const [recommendInfo, setRecInfo] = useState([]);\n  const [error, setError] = useState(false)\n  let time = useRef(0)\n\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (query === \"\") {\n        getList([]);\n      } else {\n        const KEY = process.env.REACT_APP_API;\n        try {\n        const response = await Movie_API.Search.get(\"/search/movie\", {\n          params: {\n            api_key: KEY,\n            language: \"en-US\",\n            include_adult: \"false\",\n            page: \"1\",\n            query: query,\n          },\n        });\n        getList(response.data.results);\n      }catch(err){\n        console.warn(err)\n        getList([])\n      }\n        \n      }\n      \n    };\n    fetchData();\n  }, [query]);\n\n  const onTermSubmit = async (q) => {\n    setQuery(q);\n    \n  };\n\n  useEffect(() => {\n    async function getData() {\n      setLoading(true)\n      setQuery(\"\")\n      try{\n      const [movieInfo, castAndCrewInfo, recommendInfo] = await Promise.all([\n        Movie_API.Info.get(`/${match.params.id}`, {\n          params: {\n            api_key: process.env.REACT_APP_API,\n            language: \"en-US\",\n          },\n        }),\n\n        Movie_API.Info.get(`/${match.params.id}/credits`, {\n          params: {\n            api_key: process.env.REACT_APP_API,\n          },\n        }),\n\n        Movie_API.Info.get(`/${match.params.id}/recommendations`, {\n          params: {\n            api_key: process.env.REACT_APP_API,\n          },\n        }),\n      ]);\n\n      setInfo(movieInfo);\n      setCastInfo(castAndCrewInfo);\n      setCrewInfo(castAndCrewInfo);\n      setRecInfo(recommendInfo);\n    }catch(err){\n      \n      setError(true)\n      \n    }\n \n\n    \n\n    \n\n      window.scrollTo(0, 0);\n       time.current = setTimeout(() => {\n        setLoading(false);\n      }, 2000);\n    }\n    getList([])\n    \n    getData();\n\n    return() => clearTimeout(time.current)\n  }, [match]);\n\n\n\n\n  \n\n\n  return (\n  <> \n  {error === false ?\n  loading ? (\n    <ClipLoader\n      size={150}\n      color={\"#123abc\"}\n      css={`\n        display: block;\n        margin: 0 auto;\n        border-color: black;\n      `}\n      loading={loading}\n    ></ClipLoader>\n  ) : (\n    <>\n      <span className=\"info\">\n        <span style={{ display: \"flex\", flexDirection: \"column\"}}>\n          <span className=\"title\"></span>\n\n          <MovieCard\n            image={`https://image.tmdb.org/t/p/w185${info.data.poster_path}`}\n            id={info.data.id}\n            title={info.data.title}\n            release_date={info.data.release_date}\n            isLoggedIn={loggedin}\n            userID={user}\n          />\n        </span>\n        <div className=\"description\">\n          <span className=\"title\">\n            {info.data.title !== info.data.original_title ? (\n              <h2> {`${info.data.title} [${info.data.original_title}]`}</h2>\n            ) : (\n              <h2> {info.data.original_title}</h2>\n            )}\n\n            <h2 style={{ marginLeft: \"10px\" }}>({info.data.release_date})</h2>\n          </span>\n          <div\n            style={{\n              display: \"grid\",\n              gridTemplateColumns: \"auto auto auto\",\n              marginTop: \"10px\",\n            }}\n          >\n            <h4>Rating: {info.data.vote_average * 10}%</h4>\n            <h4>Popularity: {info.data.popularity}</h4>\n            <h4>Runtime: {info.data.runtime} minutes</h4>\n          </div>\n          <h3 style={{ border: \"none\" }}>\n            {info.data.tagline !== \"\" ? info.data.tagline : null}\n          </h3>\n          <p style={{ display: \"inline-block\", padding: \"20px\" }}>\n            {\" \"}\n            {info.data.overview === \"\" ? \"No info here\" : info.data.overview}{\" \"}\n          </p>\n        </div>\n        <div style={{display:'flex', flexDirection:'row', marginTop: '69px'}}>\n            {info.data.genres.map((index, key) => (\n              <div key={key} style={{paddingLeft:'30px', paddingRight:'30px'}}>\n              <h5 style={{fontSize:'large'}}>{index.name}</h5>\n              </div>\n            ))}\n        </div>\n      </span>\n\n   \n\n      <div\n        style={{\n          width: \"100%\",\n          height: \"0px\",\n          border: \"2px black solid\",\n          marginTop: \"3em\",\n        }}\n      ></div>\n        <h3>Cast</h3>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          overflowX: \"scroll\",\n          overflowY: \"hidden\",\n          marginTop: \"20px\",\n          marginBottom: \"90px\",\n        }}\n      >\n        {castInfo.data.cast.map((cast, key) => (\n          <OverlayTrigger\n            key={key}\n            placement=\"bottom\"\n            overlay={\n              <Tooltip\n                key={key}\n                style={{\n                  paddingTop: \"20px\",\n                  textAlign: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <div>{cast.character}</div>\n                <div>({cast.name})</div>\n              </Tooltip>\n            }\n          >\n            <div\n              style={{ width: \"100px\", height: \"122px\", marginRight: \"50px\" }}\n            >\n              <img\n                key={key}\n                alt={cast.name}\n                src={\n                  cast.profile_path === null\n                    ? \"https://previews.123rf.com/images/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg\"\n                    : `https://image.tmdb.org/t/p/w185${cast.profile_path}`\n                }\n                style={{\n                  borderRadius: \"100%\",\n                  width: \"95px\",\n                  height: \"113px\",\n                  padding: \"5px\",\n                }}\n              />\n            </div>\n          </OverlayTrigger>\n        ))}\n      </div>\n      <h3>Crew</h3>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          overflowX: \"scroll\",\n          overflowY: \"hidden\",\n          marginTop: \"20px\",\n          marginBottom: \"90px\",\n        }}\n      >\n        \n        {crewInfo.data.crew.map((crew, key) => (\n          <OverlayTrigger\n            key={key}\n            placement=\"bottom\"\n            overlay={\n              <Tooltip\n                key={key}\n                style={{ paddingTop: \"20px\", textAlign: \"center\" }}\n              >\n                <div>{crew.name}</div>\n                <div>({crew.job})</div>\n              </Tooltip>\n            }\n          >\n            <div\n              style={{ width: \"100px\", height: \"122px\", marginRight: \"50px\" }}\n            >\n              <img\n                key={key}\n                alt={crew.name}\n                src={\n                  crew.profile_path === null\n                    ? \"https://previews.123rf.com/images/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg\"\n                    : `https://image.tmdb.org/t/p/w185${crew.profile_path}`\n                }\n                style={{\n                  borderRadius: \"50%\",\n                  width: \"95px\",\n                  height: \"113px\",\n                  padding: \"5px\",\n                }}\n              />\n            </div>\n          </OverlayTrigger>\n        ))}\n      </div>\n\n      <div\n        style={{\n          width: \"100%\",\n          height: \"0px\",\n          border: \"2px black solid\",\n          marginTop: \"3em\",\n        }}\n      ></div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <h3>Recommendations</h3>\n        <MovieList movies={recommendInfo.data.results} isLoggedIn = {loggedin} userID={user}/>\n      </div>\n\n      <div\n        style={{\n          width: \"100%\",\n          height: \"0px\",\n          border: \"2px black solid\",\n          marginTop: \"3em\",\n        }}\n      ></div>\n       <Search onFormSubmit={onTermSubmit} />\n      <MovieList movies={list} isLoggedIn = {loggedin} userID={user}/>\n       </>\n  ):(\n    <Error />\n  ) }\n\n     \n      </>\n  )\n      }\n\n    \n\n\n\nexport default MovieInfo;\n"]},"metadata":{},"sourceType":"module"}