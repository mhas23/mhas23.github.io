{"ast":null,"code":"import _classCallCheck from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withFirebase}from'../../components/firebase';import{compose}from'recompose';import{withRouter}from'react-router-dom';import{withAuthorization}from'../../session';import SignOutApp from'../../components/SignOut';var ProfileForm=function ProfileForm(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProfileApp,null));};var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleDelete=function(event){event.preventDefault();if(window.confirm(\"Are you sure you want to delete your account?\")){_this.props.firebase.doDeleteAccount().then(function(user){_this.props.firebase.user(_this.props.firebase.auth.W).remove();_this.props.history.push('/signup');alert(\"Account Deleted!\");}).catch(function(error){_this.setState({error:error});alert(_this.state.error);_this.props.firebase.doSignOut().then(function(user){_this.props.history.push('/signin');console.log(\"sign out\");}).catch(function(error){_this.setState({error:error});alert(_this.state.error);});});}};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"This is my Profile!\"),/*#__PURE__*/React.createElement(\"button\",null,\"Edit Profile\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleDelete},/*#__PURE__*/React.createElement(\"button\",null,\"Delete Profile\")),/*#__PURE__*/React.createElement(SignOutApp,null));}}]);return Profile;}(React.Component);var condition=function condition(authuser){return!!authuser;};var ProfileApp=compose(withRouter,withFirebase,withAuthorization(condition))(Profile);export default ProfileForm;export{ProfileApp};","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/Pages/Profile/index.js"],"names":["React","withFirebase","compose","withRouter","withAuthorization","SignOutApp","ProfileForm","props","Profile","handleDelete","event","preventDefault","window","confirm","firebase","doDeleteAccount","then","user","auth","W","remove","history","push","alert","catch","error","setState","state","doSignOut","console","log","Component","condition","authuser","ProfileApp"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,YAAR,KAA2B,2BAA3B,CACA,OAAQC,OAAR,KAAsB,WAAtB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAASC,iBAAT,KAAkC,eAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,qBAChB,4CACI,oBAAC,UAAD,MADJ,CADgB,EAApB,C,GAMMC,CAAAA,O,2UAGFC,Y,CAAe,SAACC,KAAD,CAAW,CACtBA,KAAK,CAACC,cAAN,GAEA,GAAGC,MAAM,CAACC,OAAP,CAAe,+CAAf,CAAH,CAAmE,CACnE,MAAKN,KAAL,CAAWO,QAAX,CAAoBC,eAApB,GAECC,IAFD,CAEM,SAACC,IAAD,CAAU,CACZ,MAAKV,KAAL,CAAWO,QAAX,CAAoBG,IAApB,CAAyB,MAAKV,KAAL,CAAWO,QAAX,CAAoBI,IAApB,CAAyBC,CAAlD,EAAqDC,MAArD,GAEA,MAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EACAC,KAAK,CAAC,kBAAD,CAAL,CAEH,CARD,EAQGC,KARH,CAQS,SAAAC,KAAK,CAAI,CAClB,MAAKC,QAAL,CAAc,CAACD,KAAK,CAALA,KAAD,CAAd,EACAF,KAAK,CAAC,MAAKI,KAAL,CAAWF,KAAZ,CAAL,CACA,MAAKlB,KAAL,CAAWO,QAAX,CAAoBc,SAApB,GACOZ,IADP,CACY,SAACC,IAAD,CAAU,CAEZ,MAAKV,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EACEO,OAAO,CAACC,GAAR,CAAY,UAAZ,EACL,CALP,EAKSN,KALT,CAKe,SAAAC,KAAK,CAAI,CAClB,MAAKC,QAAL,CAAc,CAACD,KAAK,CAALA,KAAD,CAAd,EACAF,KAAK,CAAC,MAAKI,KAAL,CAAWF,KAAZ,CAAL,CAEH,CATH,EAYH,CAvBG,EAwBH,CACJ,C,0EAEW,CAEJ,mBACI,4CAEI,oDAFJ,cAGI,iDAHJ,cAII,4BAAM,QAAQ,CAAE,KAAKhB,YAArB,eACK,mDADL,CAJJ,cAQI,oBAAC,UAAD,MARJ,CADJ,CAcH,C,qBAlDiBT,KAAK,CAAC+B,S,EAqD5B,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,QAAQ,QAAI,CAAC,CAACA,QAAN,EAA1B,CAEA,GAAMC,CAAAA,UAAU,CAAGhC,OAAO,CACtBC,UADsB,CAEtBF,YAFsB,CAGtBG,iBAAiB,CAAC4B,SAAD,CAHK,CAAP,CAIfxB,OAJe,CAAnB,CAME,cAAeF,CAAAA,WAAf,CAEA,OAAQ4B,UAAR","sourcesContent":["import React from 'react'\nimport {withFirebase} from '../../components/firebase'\nimport {compose} from 'recompose'\nimport {withRouter} from 'react-router-dom'\nimport { withAuthorization } from '../../session'\nimport SignOutApp from '../../components/SignOut'\n\nconst ProfileForm = (props) => (\n    <div>\n        <ProfileApp/>\n    </div>\n)\n\nclass Profile extends React.Component{\n   \n\n    handleDelete = (event) => {\n        event.preventDefault()\n        \n        if(window.confirm(\"Are you sure you want to delete your account?\")){\n        this.props.firebase.doDeleteAccount()\n       \n        .then((user) => {\n            this.props.firebase.user(this.props.firebase.auth.W).remove()\n                 \n            this.props.history.push('/signup')\n            alert(\"Account Deleted!\")\n\n        }).catch(error => {\n        this.setState({error})\n        alert(this.state.error)\n        this.props.firebase.doSignOut()\n              .then((user) => {\n                 \n                  this.props.history.push('/signin')\n                    console.log(\"sign out\")\n              }).catch(error => {\n              this.setState({error})\n              alert(this.state.error)\n              \n          })\n          \n\n    })\n    }\n}\n\n    render(){\n\n        return (\n            <div>\n    \n                <h3>This is my Profile!</h3>\n                <button>Edit Profile</button>\n                <form onSubmit={this.handleDelete}>\n                     <button>Delete Profile</button>\n    \n                </form>\n                <SignOutApp/>\n\n    \n            </div>\n        )\n    }\n}\n\nconst condition = authuser => !!authuser\n\nconst ProfileApp = compose(\n    withRouter,\n    withFirebase,\n    withAuthorization(condition)\n  )(Profile)\n\n  export default ProfileForm\n\n  export {ProfileApp}"]},"metadata":{},"sourceType":"module"}