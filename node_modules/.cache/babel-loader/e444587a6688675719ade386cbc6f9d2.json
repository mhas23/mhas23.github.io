{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nrequire(\"babel-polyfill\");\n\nrequire(\"element-closest\");\n\nrequire(\"./index.css\");\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _YearInput = require(\"./components/YearInput\");\n\nvar _YearInput2 = _interopRequireDefault(_YearInput);\n\nvar _index = require(\"./components/PickerPanel/index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar YearPicker = function (_Component) {\n  _inherits(YearPicker, _Component);\n\n  function YearPicker(props) {\n    _classCallCheck(this, YearPicker);\n\n    var _this = _possibleConstructorReturn(this, (YearPicker.__proto__ || Object.getPrototypeOf(YearPicker)).call(this, props));\n\n    _this.panelPosition = function () {\n      var picker = document.querySelector(\".year-picker\");\n      var X = picker.getBoundingClientRect().left; // расстояние от левой стороны окна до левой стороны элемента\n\n      var Y = picker.getBoundingClientRect().bottom; //расстояние от верхней стороны окна до нижней стороны элемента\n\n      var elementHeight = picker.getBoundingClientRect().height; // Высота элемента\n\n      var elementWidth = picker.getBoundingClientRect().width; // Ширина элемента\n\n      var windowHeight = window.innerHeight; //высота окна браузера\n\n      var windowWidth = window.innerWidth; // ширина окна браузера\n\n      var topTrue = Y - elementHeight - 10 > 220;\n      var halfTopTrue = Y - elementHeight - 10 > 110;\n      var botTrue = windowHeight - Y - 10 > 220;\n      var halfBotTrue = windowHeight - Y - 10 > 110;\n      var leftTrue = X + elementHeight / 2 > 120;\n      var rightTrue = windowWidth - X - elementWidth / 2 > 120;\n\n      if (topTrue && !botTrue && leftTrue && rightTrue) {\n        console.log(\"Сверху  по центру\");\n        var top = -230;\n        var left = -120 + elementWidth / 2;\n\n        _this.setState({\n          panelTop: top,\n          panelLeft: left\n        });\n      } else if (!topTrue && botTrue && rightTrue && leftTrue) {\n        console.log(\"Снизу по центру\");\n\n        var _top = elementHeight + 10;\n\n        var _left = -120 + elementWidth / 2;\n\n        _this.setState({\n          panelTop: _top,\n          panelLeft: _left\n        });\n      } else if (halfBotTrue && halfTopTrue && leftTrue && !rightTrue) {\n        console.log(\"Слева по центру\");\n\n        var _top2 = -110 + elementHeight / 2;\n\n        var _left2 = -250;\n\n        _this.setState({\n          panelTop: _top2,\n          panelLeft: _left2\n        });\n      } else if (halfBotTrue && halfTopTrue && !leftTrue && rightTrue) {\n        console.log(\"Справа по центру\");\n\n        var _top3 = -110 + elementHeight / 2;\n\n        var _left3 = elementWidth + 10;\n\n        _this.setState({\n          panelTop: _top3,\n          panelLeft: _left3\n        });\n      } else if (!topTrue && botTrue && leftTrue && !rightTrue) {\n        console.log(\"слева вниз\");\n        var _top4 = 0;\n\n        var _left4 = -250;\n\n        _this.setState({\n          panelTop: _top4,\n          panelLeft: _left4\n        });\n      } else if (topTrue && !rightTrue && leftTrue && !botTrue) {\n        console.log(\"слева вверх\");\n\n        var _top5 = -220 + elementHeight;\n\n        var _left5 = -250;\n\n        _this.setState({\n          panelTop: _top5,\n          panelLeft: _left5\n        });\n      } else if (!topTrue && rightTrue && !leftTrue && botTrue) {\n        console.log(\"Справа вниз \");\n        var _top6 = 0;\n\n        var _left6 = elementWidth + 10;\n\n        _this.setState({\n          panelTop: _top6,\n          panelLeft: _left6\n        });\n      } else if (topTrue && rightTrue && !leftTrue && !botTrue) {\n        console.log(\"Справа вверх\");\n\n        var _top7 = -220 + elementHeight;\n\n        var _left7 = elementWidth + 10;\n\n        _this.setState({\n          panelTop: _top7,\n          panelLeft: _left7\n        });\n      }\n    };\n\n    _this.openPanel = function (event) {\n      _this.panelPosition();\n\n      _this.setState({\n        panelIsOpen: true\n      });\n    };\n\n    _this.closePanel = function (event) {\n      _this.setState({\n        panelIsOpen: false\n      });\n    };\n\n    _this.callback = function () {\n      if (_this.props.onChange) {\n        _this.props.onChange(_this.state.currentYear);\n      }\n    };\n\n    _this.choiseYear = function (year) {\n      _this.setState({\n        selectedYear: year,\n        currentYear: year,\n        yearIsSelected: true\n      }, function () {\n        return _this.callback();\n      });\n\n      _this.closePanel();\n    };\n\n    _this.clearYear = function () {\n      _this.setState({\n        selectedYear: new Date().getFullYear(),\n        currentYear: \"\",\n        yearIsSelected: false\n      });\n    };\n\n    _this.increaseYear = function (event) {\n      _this.setState({\n        selectedYear: _this.state.selectedYear + 1\n      });\n    };\n\n    _this.decreaseYear = function (event) {\n      _this.setState({\n        selectedYear: _this.state.selectedYear - 1\n      });\n    };\n\n    _this.jumpForward = function (event) {\n      _this.setState({\n        selectedYear: _this.state.selectedYear + 5\n      });\n    };\n\n    _this.jumpBackward = function (event) {\n      _this.setState({\n        selectedYear: _this.state.selectedYear - 5\n      });\n    };\n\n    _this.thisYear = function (event) {\n      var year = new Date().getFullYear();\n\n      _this.setState({\n        currentYear: year,\n        selectedYear: year,\n        yearIsSelected: true\n      });\n\n      _this.closePanel();\n    };\n\n    _this.state = {\n      currentYear: \"\",\n      yearIsSelected: false,\n      selectedYear: new Date().getFullYear(),\n      panelIsOpen: false,\n      panelTop: 0,\n      panelLeft: 0\n    };\n    return _this;\n  }\n\n  _createClass(YearPicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.panelPosition();\n      document.addEventListener(\"scroll\", function (event) {\n        this.panelPosition();\n      }.bind(this));\n      document.addEventListener(\"click\", function (event) {\n        if (!event.target.closest(\".year-picker\")) {\n          this.closePanel();\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\"div\", {\n        className: \"year-picker\"\n      }, _react2.default.createElement(_YearInput2.default, {\n        value: this.state.currentYear,\n        openPanel: this.openPanel,\n        selected: this.state.yearIsSelected,\n        clear: this.clearYear\n      }), _react2.default.createElement(_index2.default, {\n        isOpen: this.state.panelIsOpen,\n        selectedYear: this.state.selectedYear,\n        currentYear: this.state.currentYear,\n        increaseYear: this.increaseYear,\n        decreaseYear: this.decreaseYear,\n        jumpForward: this.jumpForward,\n        jumpBackward: this.jumpBackward,\n        thisYear: this.thisYear,\n        choiseYear: this.choiseYear,\n        top: this.state.panelTop,\n        left: this.state.panelLeft\n      }));\n    }\n  }]);\n\n  return YearPicker;\n}(_react.Component);\n\nexports.default = YearPicker;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/node_modules/react-year-picker/lib/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","require","_react","_react2","_interopRequireDefault","_YearInput","_YearInput2","_index","_index2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","YearPicker","_Component","_this","getPrototypeOf","panelPosition","picker","document","querySelector","X","getBoundingClientRect","left","Y","bottom","elementHeight","height","elementWidth","width","windowHeight","window","innerHeight","windowWidth","innerWidth","topTrue","halfTopTrue","botTrue","halfBotTrue","leftTrue","rightTrue","console","log","top","setState","panelTop","panelLeft","_top","_left","_top2","_left2","_top3","_left3","_top4","_left4","_top5","_left5","_top6","_left6","_top7","_left7","openPanel","event","panelIsOpen","closePanel","callback","onChange","state","currentYear","choiseYear","year","selectedYear","yearIsSelected","clearYear","Date","getFullYear","increaseYear","decreaseYear","jumpForward","jumpBackward","thisYear","componentDidMount","addEventListener","bind","closest","render","createElement","className","selected","clear","isOpen","Component"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nrequire(\"babel-polyfill\");\n\nrequire(\"element-closest\");\n\nrequire(\"./index.css\");\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _YearInput = require(\"./components/YearInput\");\n\nvar _YearInput2 = _interopRequireDefault(_YearInput);\n\nvar _index = require(\"./components/PickerPanel/index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar YearPicker = function (_Component) {\n  _inherits(YearPicker, _Component);\n\n  function YearPicker(props) {\n    _classCallCheck(this, YearPicker);\n\n    var _this = _possibleConstructorReturn(this, (YearPicker.__proto__ || Object.getPrototypeOf(YearPicker)).call(this, props));\n\n    _this.panelPosition = function () {\n      var picker = document.querySelector(\".year-picker\");\n      var X = picker.getBoundingClientRect().left; // расстояние от левой стороны окна до левой стороны элемента\n      var Y = picker.getBoundingClientRect().bottom; //расстояние от верхней стороны окна до нижней стороны элемента\n\n      var elementHeight = picker.getBoundingClientRect().height; // Высота элемента\n      var elementWidth = picker.getBoundingClientRect().width; // Ширина элемента\n\n      var windowHeight = window.innerHeight; //высота окна браузера\n      var windowWidth = window.innerWidth; // ширина окна браузера\n\n      var topTrue = Y - elementHeight - 10 > 220;\n      var halfTopTrue = Y - elementHeight - 10 > 110;\n      var botTrue = windowHeight - Y - 10 > 220;\n      var halfBotTrue = windowHeight - Y - 10 > 110;\n      var leftTrue = X + elementHeight / 2 > 120;\n      var rightTrue = windowWidth - X - elementWidth / 2 > 120;\n\n      if (topTrue && !botTrue && leftTrue && rightTrue) {\n        console.log(\"Сверху  по центру\");\n        var top = -230;\n        var left = -120 + elementWidth / 2;\n        _this.setState({ panelTop: top, panelLeft: left });\n      } else if (!topTrue && botTrue && rightTrue && leftTrue) {\n        console.log(\"Снизу по центру\");\n        var _top = elementHeight + 10;\n        var _left = -120 + elementWidth / 2;\n        _this.setState({ panelTop: _top, panelLeft: _left });\n      } else if (halfBotTrue && halfTopTrue && leftTrue && !rightTrue) {\n        console.log(\"Слева по центру\");\n        var _top2 = -110 + elementHeight / 2;\n        var _left2 = -250;\n        _this.setState({ panelTop: _top2, panelLeft: _left2 });\n      } else if (halfBotTrue && halfTopTrue && !leftTrue && rightTrue) {\n        console.log(\"Справа по центру\");\n        var _top3 = -110 + elementHeight / 2;\n        var _left3 = elementWidth + 10;\n        _this.setState({ panelTop: _top3, panelLeft: _left3 });\n      } else if (!topTrue && botTrue && leftTrue && !rightTrue) {\n        console.log(\"слева вниз\");\n        var _top4 = 0;\n        var _left4 = -250;\n        _this.setState({ panelTop: _top4, panelLeft: _left4 });\n      } else if (topTrue && !rightTrue && leftTrue && !botTrue) {\n        console.log(\"слева вверх\");\n        var _top5 = -220 + elementHeight;\n        var _left5 = -250;\n        _this.setState({ panelTop: _top5, panelLeft: _left5 });\n      } else if (!topTrue && rightTrue && !leftTrue && botTrue) {\n        console.log(\"Справа вниз \");\n        var _top6 = 0;\n        var _left6 = elementWidth + 10;\n        _this.setState({ panelTop: _top6, panelLeft: _left6 });\n      } else if (topTrue && rightTrue && !leftTrue && !botTrue) {\n        console.log(\"Справа вверх\");\n        var _top7 = -220 + elementHeight;\n        var _left7 = elementWidth + 10;\n        _this.setState({ panelTop: _top7, panelLeft: _left7 });\n      }\n    };\n\n    _this.openPanel = function (event) {\n      _this.panelPosition();\n      _this.setState({ panelIsOpen: true });\n    };\n\n    _this.closePanel = function (event) {\n      _this.setState({ panelIsOpen: false });\n    };\n\n    _this.callback = function () {\n      if (_this.props.onChange) {\n        _this.props.onChange(_this.state.currentYear);\n      }\n    };\n\n    _this.choiseYear = function (year) {\n      _this.setState({\n        selectedYear: year,\n        currentYear: year,\n        yearIsSelected: true\n      }, function () {\n        return _this.callback();\n      });\n      _this.closePanel();\n    };\n\n    _this.clearYear = function () {\n      _this.setState({\n        selectedYear: new Date().getFullYear(),\n        currentYear: \"\",\n        yearIsSelected: false\n      });\n    };\n\n    _this.increaseYear = function (event) {\n      _this.setState({ selectedYear: _this.state.selectedYear + 1 });\n    };\n\n    _this.decreaseYear = function (event) {\n      _this.setState({ selectedYear: _this.state.selectedYear - 1 });\n    };\n\n    _this.jumpForward = function (event) {\n      _this.setState({ selectedYear: _this.state.selectedYear + 5 });\n    };\n\n    _this.jumpBackward = function (event) {\n      _this.setState({ selectedYear: _this.state.selectedYear - 5 });\n    };\n\n    _this.thisYear = function (event) {\n      var year = new Date().getFullYear();\n      _this.setState({\n        currentYear: year,\n        selectedYear: year,\n        yearIsSelected: true\n      });\n      _this.closePanel();\n    };\n\n    _this.state = {\n      currentYear: \"\",\n      yearIsSelected: false,\n      selectedYear: new Date().getFullYear(),\n      panelIsOpen: false,\n      panelTop: 0,\n      panelLeft: 0\n    };\n    return _this;\n  }\n\n  _createClass(YearPicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.panelPosition();\n\n      document.addEventListener(\"scroll\", function (event) {\n        this.panelPosition();\n      }.bind(this));\n\n      document.addEventListener(\"click\", function (event) {\n        if (!event.target.closest(\".year-picker\")) {\n          this.closePanel();\n        }\n      }.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"year-picker\" },\n        _react2.default.createElement(_YearInput2.default, {\n          value: this.state.currentYear,\n          openPanel: this.openPanel,\n          selected: this.state.yearIsSelected,\n          clear: this.clearYear\n        }),\n        _react2.default.createElement(_index2.default, {\n          isOpen: this.state.panelIsOpen,\n          selectedYear: this.state.selectedYear,\n          currentYear: this.state.currentYear,\n          increaseYear: this.increaseYear,\n          decreaseYear: this.decreaseYear,\n          jumpForward: this.jumpForward,\n          jumpBackward: this.jumpBackward,\n          thisYear: this.thisYear,\n          choiseYear: this.choiseYear,\n          top: this.state.panelTop,\n          left: this.state.panelLeft\n        })\n      );\n    }\n  }]);\n\n  return YearPicker;\n}(_react.Component);\n\nexports.default = YearPicker;"]},"metadata":{},"sourceType":"script"}