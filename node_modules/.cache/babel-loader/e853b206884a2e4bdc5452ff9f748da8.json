{"ast":null,"code":"var _jsxFileName = \"/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js\";\nimport React from \"react\";\nimport { withFirebase } from \"../firebase\";\nlet ls = window.localStorage;\nlet arr = [];\nlet count = 0;\n\nclass Favorite extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = () => {\n      let array = this.state.movie;\n\n      if (this.props.isLoggedIn) {\n        array.push({\n          id: this.props.id,\n          title: this.props.title,\n          poster_path: this.props.img.replace(\"https://image.tmdb.org/t/p/w185\", \"\"),\n          release_date: this.props.release_date\n        });\n        this.setState({\n          movie: [...array],\n          clicked: !this.state.clicked\n        });\n        let movie = this.state.movie;\n        let clicked = this.state.clicked;\n        this.props.handleFav({\n          movie,\n          clicked\n        });\n      } else {\n        alert(\"Make Sure to Sign In to Favorite :)\");\n      }\n    };\n\n    this.state = {\n      clicked: false,\n      movie: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.firebase.item(this.props.userID).on(\"child_added\", snap => {\n      let newArr;\n\n      if (snap.val().id === this.props.id) {\n        console.log(snap.val());\n        newArr.push(snap.val().id);\n      }\n    });\n    console.log(newArr);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"inline-flex\",\n        marginTop: \"20px\",\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      onClick: this.handleClick,\n      key: this.props.id,\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, !this.props.isLoggedIn ? /*#__PURE__*/React.createElement(\"i\", {\n      className: `far fa-heart fa-2x`,\n      id: this.state.movie.id,\n      style: {\n        opacity: \"0.2\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }) : JSON.parse(ls.getItem(\"favoriteList\").includes(this.props.id) && ls.getItem(\"favoriteList\").includes(this.props.title)) ? /*#__PURE__*/React.createElement(\"i\", {\n      className: `fas fa-heart fa-2x`,\n      id: this.state.movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: `far fa-heart fa-2x`,\n      id: this.state.movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default withFirebase(Favorite);","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js"],"names":["React","withFirebase","ls","window","localStorage","arr","count","Favorite","Component","constructor","props","handleClick","array","state","movie","isLoggedIn","push","id","title","poster_path","img","replace","release_date","setState","clicked","handleFav","alert","componentDidMount","firebase","item","userID","on","snap","newArr","val","console","log","render","display","marginTop","justifyContent","backgroundColor","border","cursor","opacity","JSON","parse","getItem","includes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,IAAIC,EAAE,GAAGC,MAAM,CAACC,YAAhB;AAEA,IAAIC,GAAG,GAAG,EAAV;AACA,IAAIC,KAAK,GAAG,CAAZ;;AAEA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,WARmB,GAQL,MAAM;AAClB,UAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWC,KAAvB;;AACA,UAAI,KAAKJ,KAAL,CAAWK,UAAf,EAA2B;AACzBH,QAAAA,KAAK,CAACI,IAAN,CAAW;AACTC,UAAAA,EAAE,EAAE,KAAKP,KAAL,CAAWO,EADN;AAETC,UAAAA,KAAK,EAAE,KAAKR,KAAL,CAAWQ,KAFT;AAGTC,UAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWU,GAAX,CAAeC,OAAf,CACX,iCADW,EAEX,EAFW,CAHJ;AAOTC,UAAAA,YAAY,EAAE,KAAKZ,KAAL,CAAWY;AAPhB,SAAX;AASA,aAAKC,QAAL,CAAc;AACZT,UAAAA,KAAK,EAAE,CAAC,GAAGF,KAAJ,CADK;AAEZY,UAAAA,OAAO,EAAE,CAAC,KAAKX,KAAL,CAAWW;AAFT,SAAd;AAIA,YAAIV,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAvB;AACA,YAAIU,OAAO,GAAG,KAAKX,KAAL,CAAWW,OAAzB;AACA,aAAKd,KAAL,CAAWe,SAAX,CAAqB;AAAEX,UAAAA,KAAF;AAASU,UAAAA;AAAT,SAArB;AACD,OAjBD,MAiBO;AACLE,QAAAA,KAAK,CAAC,qCAAD,CAAL;AACD;AACF,KA9BkB;;AAEjB,SAAKb,KAAL,GAAa;AACXW,MAAAA,OAAO,EAAE,KADE;AAEXV,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AA0BDa,EAAAA,iBAAiB,GAAG;AAClB,SAAKjB,KAAL,CAAWkB,QAAX,CAAoBC,IAApB,CAAyB,KAAKnB,KAAL,CAAWoB,MAApC,EAA4CC,EAA5C,CAA+C,aAA/C,EAA+DC,IAAD,IAAU;AACtE,UAAIC,MAAJ;;AACA,UAAID,IAAI,CAACE,GAAL,GAAWjB,EAAX,KAAkB,KAAKP,KAAL,CAAWO,EAAjC,EAAqC;AACnCkB,QAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACE,GAAL,EAAZ;AACAD,QAAAA,MAAM,CAACjB,IAAP,CAAYgB,IAAI,CAACE,GAAL,GAAWjB,EAAvB;AACD;AACF,KAND;AAOAkB,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE,aADJ;AAELC,QAAAA,SAAS,EAAE,MAFN;AAGLC,QAAAA,cAAc,EAAE;AAHX,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,eAAe,EAAE,aADZ;AAELC,QAAAA,MAAM,EAAE,MAFH;AAGLC,QAAAA,MAAM,EAAE;AAHH,OADT;AAME,MAAA,OAAO,EAAE,KAAKhC,WANhB;AAOE,MAAA,GAAG,EAAE,KAAKD,KAAL,CAAWO,EAPlB;AAQE,MAAA,EAAE,EAAE,KAAKP,KAAL,CAAWO,EARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUG,CAAC,KAAKP,KAAL,CAAWK,UAAZ,gBACC;AACE,MAAA,SAAS,EAAG,oBADd;AAEE,MAAA,EAAE,EAAE,KAAKF,KAAL,CAAWC,KAAX,CAAiBG,EAFvB;AAGE,MAAA,KAAK,EAAE;AAAE2B,QAAAA,OAAO,EAAE;AAAX,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAMGC,IAAI,CAACC,KAAL,CACA5C,EAAE,CAAC6C,OAAH,CAAW,cAAX,EAA2BC,QAA3B,CAAoC,KAAKtC,KAAL,CAAWO,EAA/C,KACEf,EAAE,CAAC6C,OAAH,CAAW,cAAX,EAA2BC,QAA3B,CAAoC,KAAKtC,KAAL,CAAWQ,KAA/C,CAFF,iBAIF;AAAG,MAAA,SAAS,EAAG,oBAAf;AAAoC,MAAA,EAAE,EAAE,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJE,gBAMF;AAAG,MAAA,SAAS,EAAG,oBAAf;AAAoC,MAAA,EAAE,EAAE,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,CAPF,CADF;AA+CD;;AA5FoC;;AA+FvC,eAAehB,YAAY,CAACM,QAAD,CAA3B","sourcesContent":["import React from \"react\";\nimport { withFirebase } from \"../firebase\";\nlet ls = window.localStorage;\n\nlet arr = [];\nlet count = 0;\n\nclass Favorite extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clicked: false,\n      movie: [],\n    };\n  }\n\n  handleClick = () => {\n    let array = this.state.movie;\n    if (this.props.isLoggedIn) {\n      array.push({\n        id: this.props.id,\n        title: this.props.title,\n        poster_path: this.props.img.replace(\n          \"https://image.tmdb.org/t/p/w185\",\n          \"\"\n        ),\n        release_date: this.props.release_date,\n      });\n      this.setState({\n        movie: [...array],\n        clicked: !this.state.clicked,\n      });\n      let movie = this.state.movie;\n      let clicked = this.state.clicked;\n      this.props.handleFav({ movie, clicked });\n    } else {\n      alert(\"Make Sure to Sign In to Favorite :)\");\n    }\n  };\n\n  componentDidMount() {\n    this.props.firebase.item(this.props.userID).on(\"child_added\", (snap) => {\n      let newArr;\n      if (snap.val().id === this.props.id) {\n        console.log(snap.val());\n        newArr.push(snap.val().id)\n      }\n    });\n    console.log(newArr)\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: \"inline-flex\",\n          marginTop: \"20px\",\n          justifyContent: \"center\",\n        }}\n      >\n        <button\n          style={{\n            backgroundColor: \"transparent\",\n            border: \"none\",\n            cursor: \"pointer\",\n          }}\n          onClick={this.handleClick}\n          key={this.props.id}\n          id={this.props.id}\n        >\n          {!this.props.isLoggedIn ? (\n            <i\n              className={`far fa-heart fa-2x`}\n              id={this.state.movie.id}\n              style={{ opacity: \"0.2\" }}\n            ></i>\n          ) : JSON.parse(\n              ls.getItem(\"favoriteList\").includes(this.props.id) &&\n                ls.getItem(\"favoriteList\").includes(this.props.title)\n            ) ? (\n            <i className={`fas fa-heart fa-2x`} id={this.state.movie.id}></i>\n          ) : (\n            <i className={`far fa-heart fa-2x`} id={this.state.movie.id}></i>\n          )}\n        </button>\n\n        {/*  <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        key={props.id}\n        id={props.id}\n      >\n        <i className=\"fas fa-list fa-2x\"></i>\n      </button> */}\n      </div>\n    );\n  }\n}\n\nexport default withFirebase(Favorite);\n"]},"metadata":{},"sourceType":"module"}