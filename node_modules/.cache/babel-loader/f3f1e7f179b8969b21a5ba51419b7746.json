{"ast":null,"code":"var _jsxFileName = \"/Users/mohidinhassan/movie_website_app/src/Pages/Home/index.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Search from \"../../components/Search\";\nimport { Link } from \"react-router-dom\";\nimport \"../../components/Search/Search.css\";\nimport { Movie_API } from \"../../api/Movie_API\";\nimport MovieList from \"../../components/Movies/MovieList\";\nconst KEY = process.env.REACT_APP_API;\n\nconst Home = () => {\n  const [list, getList] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const totalPages = useRef(0);\n\n  const nextPage = () => {\n    setPage(page + 1);\n\n    if (page === totalPages.current) {\n      setPage(totalPages.current);\n    }\n  };\n\n  const lastPage = () => {\n    setPage(totalPages.current);\n  };\n\n  const prevPage = () => {\n    setPage(page - 1);\n  };\n\n  const firstPage = () => {\n    setPage(1);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (query === \"\") {\n        getList([]);\n      } else {\n        try {\n          const response = await Movie_API.Search.get(\"/search/movie\", {\n            params: {\n              api_key: KEY,\n              language: \"en-US\",\n              include_adult: \"false\",\n              page: page,\n              query: query\n            }\n          });\n          totalPages.current = response.data.total_pages;\n\n          if (totalPages.current >= page) {\n            getList(response.data.results);\n          } else {\n            alert(\"end of page\");\n            getList([]);\n          }\n        } catch (err) {\n          console.warn(err);\n        }\n      }\n    };\n\n    fetchData();\n  }, [query, page]);\n\n  const onTermSubmit = async q => {\n    setQuery(q);\n    setPage(1);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      justifyContent: \"center\",\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"The Movie Hub\"), /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      marginLeft: \"10px\",\n      marginTop: \"15px\"\n    },\n    className: \"fas fa-film fa-3x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Search, {\n    onFormSubmit: onTermSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MovieList, {\n    movies: list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, list.length === 0 ? null : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-right fa-2x\",\n    style: {\n      margin: '5%',\n      cursor: 'pointer'\n    },\n    onClick: nextPage,\n    disabled: page === totalPages.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 44\n    }\n  }, \"Next Page\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-angle-double-right fa-2x\",\n    style: {\n      margin: '5%',\n      cursor: 'pointer'\n    },\n    onClick: lastPage,\n    disabled: page === totalPages.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 197\n    }\n  }, \"Last Page\"), \"   \"), page > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-left fa-2x\",\n    style: {\n      margin: '5%',\n      cursor: 'pointer'\n    },\n    onClick: prevPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 28\n    }\n  }, \"Previous Page\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-angle-double-left fa-2x\",\n    style: {\n      margin: '5%',\n      cursor: 'pointer'\n    },\n    onClick: firstPage,\n    disabled: page === totalPages.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 146\n    }\n  }, \"First Page\"), \" \") : null), list.length === 0 ? null : /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, \"Page \", page, \" / \", totalPages.current), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"filter-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Discover One!\")))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/Pages/Home/index.js"],"names":["React","useState","useEffect","useRef","Search","Link","Movie_API","MovieList","KEY","process","env","REACT_APP_API","Home","list","getList","query","setQuery","page","setPage","totalPages","nextPage","current","lastPage","prevPage","firstPage","fetchData","response","get","params","api_key","language","include_adult","data","total_pages","results","alert","err","console","warn","onTermSubmit","q","justifyContent","display","flexDirection","marginLeft","marginTop","length","margin","cursor","textAlign"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport Search from \"../../components/Search\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../../components/Search/Search.css\";\nimport { Movie_API } from \"../../api/Movie_API\";\nimport MovieList from \"../../components/Movies/MovieList\";\nconst KEY = process.env.REACT_APP_API;\n\nconst Home = () => {\n  const [list, getList] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1)\n  const totalPages = useRef(0)\n\n  \n  const nextPage = () => {\n      setPage(page + 1)\n      if(page === totalPages.current){\n        setPage(totalPages.current)\n      }\n  }\n\n  const lastPage = () => {\n    setPage(totalPages.current)\n    \n}\n\n  const prevPage = () => {\n    setPage(page - 1)\n  }\n\n  const firstPage = () => {\n    setPage(1)\n    \n}\n  \n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (query === \"\") {\n        getList([]);\n      } else {\n        try {\n           const response = await Movie_API.Search.get(\"/search/movie\", {\n            params: {\n              api_key: KEY,\n              language: \"en-US\",\n              include_adult: \"false\",\n              page: page,\n              query: query,\n            },\n          });\n          totalPages.current = response.data.total_pages\n          \n          if(totalPages.current >= page){\n          getList(response.data.results);\n          }else{\n            alert(\"end of page\")\n            getList([])\n          }\n        } catch (err) {\n          console.warn(err);\n          \n        }\n      }\n    };\n    fetchData();\n\n    \n  }, [query, page]);\n\n  const onTermSubmit = async (q) => {\n    setQuery(q);\n    setPage(1)\n  };\n\n  return (\n    <>\n      <>\n        <span\n          style={{\n            justifyContent: \"center\",\n            display: \"flex\",\n            flexDirection: \"row\",\n          }}\n        >\n          <h1>The Movie Hub</h1>\n          <i\n            style={{ marginLeft: \"10px\", marginTop: \"15px\" }}\n            className=\"fas fa-film fa-3x\"\n          ></i>\n        </span>\n\n        <Search onFormSubmit={onTermSubmit} />\n        <MovieList movies={list} />\n        <div style={{display:'flex', flexDirection:'row', justifyContent:'center'}}>\n          {list.length === 0 ? null : <div><i className=\"fas fa-arrow-right fa-2x\" style={{margin: '5%', cursor:'pointer'}} onClick={nextPage} disabled={page === totalPages.current}>Next Page</i> <i className=\"fas fa-angle-double-right fa-2x\" style={{margin: '5%', cursor:'pointer'}} onClick={lastPage} disabled={page === totalPages.current}>Last Page</i>   </div> }\n          {page > 1 ? <div><i className=\"fas fa-arrow-left fa-2x\" style={{margin: '5%', cursor:'pointer'}}  onClick={prevPage}>Previous Page</i> <i className=\"fas fa-angle-double-left fa-2x\" style={{margin: '5%', cursor:'pointer'}} onClick={firstPage} disabled={page === totalPages.current}>First Page</i> </div> : null }\n        </div>\n        {list.length === 0 ? null : <h3 style={{textAlign:'center'}}>Page {page} / {totalPages.current}</h3>}\n\n        <div className=\"filter\">\n          <Link to={\"/filter\"}>\n            <button className=\"filter-button\">Discover One!</button>\n          </Link>\n        </div>\n      </>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}