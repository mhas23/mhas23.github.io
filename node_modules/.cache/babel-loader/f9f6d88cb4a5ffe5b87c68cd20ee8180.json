{"ast":null,"code":"import _toConsumableArray from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mohidinhassan/movie_website_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{withFirebase}from'../firebase';var Favorite=/*#__PURE__*/function(_React$Component){_inherits(Favorite,_React$Component);var _super=_createSuper(Favorite);function Favorite(props){var _this;_classCallCheck(this,Favorite);_this=_super.call(this,props);_this.handleClick=function(){var array=_this.state.movie;if(_this.props.isLoggedIn){array.push({id:_this.props.id,title:_this.props.title,poster_path:_this.props.img.replace(\"https://image.tmdb.org/t/p/w185\",\"\"),release_date:_this.props.release_date});_this.setState({movie:_toConsumableArray(array),clicked:!_this.state.clicked});var movie=_this.state.movie;var clicked=_this.state.clicked;_this.props.handleFav({movie:movie,clicked:clicked});}else{alert(\"Make Sure to Sign In to Favorite :)\");}};_this.state={clicked:false,movie:[]};return _this;}_createClass(Favorite,[{key:\"render\",value:function render(){var _this2=this;var isEqual=false;this.props.firebase.item(this.props.userID).on(\"child_added\",function(snap){if(Object.values(snap.val()).includes(_this2.props.id)){isEqual=true;}});return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"inline-flex\",marginTop:\"20px\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"button\",{style:{backgroundColor:\"transparent\",border:\"none\",cursor:\"pointer\"},onClick:this.handleClick,key:this.props.id,id:this.props.id},!this.props.isLoggedIn?/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart fa-2x\",id:this.state.movie.id,style:{opacity:'0.2'}}):isEqual?/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-heart fa-2x\",id:this.state.movie.id}):/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart fa-2x\",id:this.state.movie.id})));}}]);return Favorite;}(React.Component);export default withFirebase(Favorite);","map":{"version":3,"sources":["/Users/mohidinhassan/movie_website_app/src/components/Movies/Favorite.js"],"names":["React","withFirebase","Favorite","props","handleClick","array","state","movie","isLoggedIn","push","id","title","poster_path","img","replace","release_date","setState","clicked","handleFav","alert","isEqual","firebase","item","userID","on","snap","Object","values","val","includes","display","marginTop","justifyContent","backgroundColor","border","cursor","opacity","Component"],"mappings":"ywBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,YAAR,KAA2B,aAA3B,C,GAGMC,CAAAA,Q,gHACJ,kBAAYC,KAAZ,CAAkB,0CAChB,uBAAMA,KAAN,EADgB,MAYjBC,WAZiB,CAYH,UAAM,CAEjB,GAAIC,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWC,KAAvB,CACA,GAAG,MAAKJ,KAAL,CAAWK,UAAd,CAAyB,CACvBH,KAAK,CAACI,IAAN,CAAW,CAACC,EAAE,CAAE,MAAKP,KAAL,CAAWO,EAAhB,CAAoBC,KAAK,CAAE,MAAKR,KAAL,CAAWQ,KAAtC,CAA6CC,WAAW,CAAE,MAAKT,KAAL,CAAWU,GAAX,CAAeC,OAAf,CAAuB,iCAAvB,CAA0D,EAA1D,CAA1D,CAAyHC,YAAY,CAAE,MAAKZ,KAAL,CAAWY,YAAlJ,CAAX,EACA,MAAKC,QAAL,CAAc,CACZT,KAAK,oBAAMF,KAAN,CADO,CAEZY,OAAO,CAAE,CAAC,MAAKX,KAAL,CAAWW,OAFT,CAAd,EAIA,GAAIV,CAAAA,KAAK,CAAG,MAAKD,KAAL,CAAWC,KAAvB,CACA,GAAIU,CAAAA,OAAO,CAAG,MAAKX,KAAL,CAAWW,OAAzB,CACA,MAAKd,KAAL,CAAWe,SAAX,CAAqB,CAACX,KAAK,CAALA,KAAD,CAAQU,OAAO,CAAPA,OAAR,CAArB,EACD,CATD,IASK,CACHE,KAAK,CAAC,qCAAD,CAAL,CACD,CAIJ,CA9BiB,CAEhB,MAAKb,KAAL,CAAa,CACXW,OAAO,CAAE,KADE,CAEXV,KAAK,CAAE,EAFI,CAAb,CAFgB,aAMjB,C,4DA8BK,iBACN,GAAIa,CAAAA,OAAO,CAAG,KAAd,CACA,KAAKjB,KAAL,CAAWkB,QAAX,CAAoBC,IAApB,CAAyB,KAAKnB,KAAL,CAAWoB,MAApC,EAA4CC,EAA5C,CAA+C,aAA/C,CAA8D,SAAAC,IAAI,CAAI,CAEpE,GAAGC,MAAM,CAACC,MAAP,CAAcF,IAAI,CAACG,GAAL,EAAd,EAA0BC,QAA1B,CAAmC,MAAI,CAAC1B,KAAL,CAAWO,EAA9C,CAAH,CAAqD,CACjDU,OAAO,CAAG,IAAV,CAEH,CACF,CAND,EAYA,mBACE,2BACE,KAAK,CAAE,CACLU,OAAO,CAAE,aADJ,CAELC,SAAS,CAAE,MAFN,CAGLC,cAAc,CAAE,QAHX,CADT,eAUO,8BACH,KAAK,CAAE,CACLC,eAAe,CAAE,aADZ,CAELC,MAAM,CAAE,MAFH,CAGLC,MAAM,CAAE,SAHH,CADJ,CAMH,OAAO,CAAE,KAAK/B,WANX,CAOH,GAAG,CAAE,KAAKD,KAAL,CAAWO,EAPb,CAQH,EAAE,CAAE,KAAKP,KAAL,CAAWO,EARZ,EAgBF,CAAC,KAAKP,KAAL,CAAWK,UAAZ,cAA0B,yBACzB,SAAS,qBADgB,CAEzB,EAAE,CAAE,KAAKF,KAAL,CAAWC,KAAX,CAAiBG,EAFI,CAGzB,KAAK,CAAE,CAAC0B,OAAO,CAAE,KAAV,CAHkB,EAA1B,CAQGhB,OAAO,cAGT,yBACA,SAAS,qBADT,CAEA,EAAE,CAAE,KAAKd,KAAL,CAAWC,KAAX,CAAiBG,EAFrB,EAHS,cAOL,yBACR,SAAS,qBADD,CAER,EAAE,CAAE,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,EAFb,EA/BH,CAVP,CADF,CAsEG,C,sBAzHkBV,KAAK,CAACqC,S,EA8H7B,cAAepC,CAAAA,YAAY,CAACC,QAAD,CAA3B","sourcesContent":["import React from \"react\";\nimport {withFirebase} from '../firebase'\n\n\nclass Favorite extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      clicked: false,\n      movie: []\n    }\n  }\n\n\n\n\n\n   handleClick = () => {\n\n      let array = this.state.movie\n      if(this.props.isLoggedIn){\n        array.push({id: this.props.id, title: this.props.title, poster_path: this.props.img.replace(\"https://image.tmdb.org/t/p/w185\", \"\"), release_date: this.props.release_date})\n        this.setState({\n          movie: [...array],\n          clicked: !this.state.clicked\n        })\n        let movie = this.state.movie\n        let clicked = this.state.clicked\n        this.props.handleFav({movie, clicked})\n      }else{\n        alert(\"Make Sure to Sign In to Favorite :)\")\n      }\n      \n      \n    \n  }\n\n \n\n\n \nrender(){\n  let isEqual = false\n  this.props.firebase.item(this.props.userID).on(\"child_added\", snap => {\n                \n    if(Object.values(snap.val()).includes(this.props.id)){\n        isEqual = true\n        \n    }\n  })\n\n\n  \n\n\n  return (\n    <div\n      style={{\n        display: \"inline-flex\",\n        marginTop: \"20px\",\n        justifyContent: \"center\",\n      }}\n    \n    >\n\n\n           <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        onClick={this.handleClick}\n        key={this.props.id}\n        id={this.props.id}\n      >\n\n        \n                  \n\n       \n      \n        {!this.props.isLoggedIn ? (<i\n          className={`far fa-heart fa-2x`}\n          id={this.state.movie.id}\n          style={{opacity: '0.2'}}\n        ></i>) :\n        \n            ( \n          \n            isEqual ? \n          \n          \n          <i\n          className={`fas fa-heart fa-2x`}\n          id={this.state.movie.id}\n        \n      ></i> : <i\n      className={`far fa-heart fa-2x`}\n      id={this.state.movie.id}\n    \n  ></i>) }\n        \n      </button>\n\n      \n      \n     {/*  <button\n        style={{\n          backgroundColor: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n        }}\n        key={props.id}\n        id={props.id}\n      >\n        <i className=\"fas fa-list fa-2x\"></i>\n      </button> */}\n\n      \n     \n\n   \n    </div>\n  );\n    }\n  \n}\n\n\nexport default withFirebase(Favorite);\n"]},"metadata":{},"sourceType":"module"}